
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Fintech - Backend Developer">
    <title>쓰레드 (Thread) - Fintech - Backend Developer</title>
    <meta name="author" content="Dongryeol Jeong">
    
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Dongryeol Jeong","sameAs":["https://github.com/"],"image":"profile.jpg"},"articleBody":"\n\n쓰레드개념프로세스 (Process)\n실행 중인 프로그램이 실행되면 OS로부터 메모리를 할당받아 프로세스 상태가 된다.\n프로그램이 메모리에 올라간 상태\n프로세스는 하나 이상의 쓰레드를 가지게 된다.\n\n쓰레드 (Thread)\n프로세스가 메모리를 점유하고 CPU에서 수행이 된다.\n쓰레드 : CPU에서 프로세스가 실행되는 단위\n스케줄러 : 쓰레드의 배분\n웹서버에 멀티쓰레드가 구현되어 있기 때문에 웹프로그래밍에서는 멀티쓰레드를 구현할 일이 없다.\n쓰레드는 자신만의 작업 공간인 context(변수 정보 등)를 가지고 있다.\n\n쓰레드 상태 (Thread Status)\nRunnable  \n\n쓰레드가 start 되면 쓰레드 풀에서 대기하게 된다.\n언제든지 CPU가 배분되면 실행될 수 있는 상태\n\n\nNot Runnable\n\nCPU를 절대 점유할 수 없는 상태\n자바에서 메서드를 통해 Not Runnable로 만들 수 있다.\nsleep(millisecond)\nmillisecond후에 Runnable로 변경 \n\n\nwait()\n자원이 한정되어 있을 때, 유효한 thread가 생길 때 까지 대기상태\n유효한 상태가 되면 notify, notifyAll을 통해 쓰레드를 불러온다.\n\n\njoin()\n한 개의 쓰레드가 다른 쓰레드를 참조할 때 join()을 하면 참조하는 쓰레드가 끝날 때 까지 자기 자신을 Not Runnable 상태로 만든다.\n\n\n\n\n\n\nDead\n\n쓰레드가 다 수행된 상태, 종료된 상태\n\n\n\nwait() / notify()\n리소스가 유효하지 않은 경우 유효할 때 까지 Thread는 wait상태가 된다.\n유효한 리소스가 생기면 notify()/notifyAll()를 통해 Thread가 호출된다.\nnotify() : 무작위 쓰레드 호출\nnotifyAll() : wait상태의 Thread 모두 호출\n유효한 리소스만큼 호출되며, 자원을 갖지 못하면 다시 wait상태가 된다.\n\n\n\n\n예제\n도서관(공유 자원)에서 책을 빌리려하는 학생(Thread)이 있다.\n책(자원)은 한정되어 있고, 학생(쓰레드)들이 책(자원)을 빌리려 할 때 책이 없으면 wait()\n책(자원)이 반납되면 다른 학생(쓰레드)가 빌림\n\n\n\n\nnotify 예제 코드 확인하기\n\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081package ch17;import java.util.ArrayList;import java.util.InputMismatchException;class Library &#123;    public ArrayList&lt;String&gt; shelf = new ArrayList&lt;&gt;();    public Library() &#123;        shelf.add(&quot;태백산맥1&quot;);        shelf.add(&quot;태백산맥2&quot;);        shelf.add(&quot;태백산맥3&quot;);    &#125;    public synchronized String lendBook() throws InterruptedException &#123;        Thread t = Thread.currentThread();        if (shelf.size() == 0) &#123;            System.out.println(t.getName() + &quot; : waiting start&quot;);            wait();            System.out.println(t.getName() + &quot; : waiting end&quot;);        &#125;        if (shelf.size() &gt; 0 )&#123;            String book = shelf.remove(0);            System.out.println(t.getName() + &quot; : &quot; + book + &quot; lend&quot;);            return book;        &#125; else return null;    &#125;    public synchronized void returnBook(String book) &#123;        Thread t = Thread.currentThread();        shelf.add(book);        System.out.println(t.getName() + &quot; : &quot; + book + &quot; return&quot;);        notify();    &#125;&#125;class Student extends Thread&#123;    public Student(String name) &#123;        super(name);    &#125;    @Override    public void run() &#123;        try&#123;            String title = LibraryMain.library.lendBook();            if (title == null) &#123;                System.out.println(getName() + &quot; : 빌리지 못했음&quot;);                return;            &#125;            sleep(5000);            LibraryMain.library.returnBook(title);        &#125; catch (InterruptedException e) &#123;            System.out.println(e);        &#125;    &#125;&#125;public class LibraryMain &#123;    public static Library library = new Library();    public static void main(String[] args) &#123;        Student std1 = new Student(&quot;std1&quot;);        Student std2 = new Student(&quot;std2&quot;);        Student std3 = new Student(&quot;std3&quot;);        Student std4 = new Student(&quot;std4&quot;);        Student std5 = new Student(&quot;std5&quot;);        Student std6 = new Student(&quot;std6&quot;);        std1.start();        std2.start();        std3.start();        std4.start();        std5.start();        std6.start();    &#125;&#125;\n\n\n\nnotifyAll() 예제코드 확인하기\n\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081package ch17;import java.util.ArrayList;import java.util.InputMismatchException;class Library &#123;    public ArrayList&lt;String&gt; shelf = new ArrayList&lt;&gt;();    public Library() &#123;        shelf.add(&quot;태백산맥1&quot;);        shelf.add(&quot;태백산맥2&quot;);        shelf.add(&quot;태백산맥3&quot;);    &#125;    public synchronized String lendBook() throws InterruptedException &#123;        Thread t = Thread.currentThread();        while (shelf.size() == 0) &#123;            System.out.println(t.getName() + &quot; : waiting start&quot;);            wait();            System.out.println(t.getName() + &quot; : waiting end&quot;);        &#125;        if (shelf.size() &gt; 0 )&#123;            String book = shelf.remove(0);            System.out.println(t.getName() + &quot; : &quot; + book + &quot; lend&quot;);            return book;        &#125; else return null;    &#125;    public synchronized void returnBook(String book) &#123;        Thread t = Thread.currentThread();        shelf.add(book);        System.out.println(t.getName() + &quot; : &quot; + book + &quot; return&quot;);        notifyAll();    &#125;&#125;class Student extends Thread&#123;    public Student(String name) &#123;        super(name);    &#125;    @Override    public void run() &#123;        try&#123;            String title = LibraryMain.library.lendBook();            if (title == null) &#123;                System.out.println(getName() + &quot; : 빌리지 못했음&quot;);                return;            &#125;            sleep(5000);            LibraryMain.library.returnBook(title);        &#125; catch (InterruptedException e) &#123;            System.out.println(e);        &#125;    &#125;&#125;public class LibraryMain &#123;    public static Library library = new Library();    public static void main(String[] args) &#123;        Student std1 = new Student(&quot;std1&quot;);        Student std2 = new Student(&quot;std2&quot;);        Student std3 = new Student(&quot;std3&quot;);        Student std4 = new Student(&quot;std4&quot;);        Student std5 = new Student(&quot;std5&quot;);        Student std6 = new Student(&quot;std6&quot;);        std1.start();        std2.start();        std3.start();        std4.start();        std5.start();        std6.start();    &#125;&#125;\n\n\n멀티 쓰레딩 (Multi-Threading)\n여러 thread가 동시에 수행되는 프로그래밍, 여러 작업이 동시에 실행되는 효과\nthread는 각각 자신만의 작업 공간을 가짐 (context)\n각 thread 사이에서 공유하는 자원이 있을 수 있음 (자바에서는 static instance)\n여러 thread가 자원을 공유하여 작업이 수행되는 경우 서로 자원을 차지하려는 race condition이 발생할 수 있음\n이렇게 여러 thread가 공유하는 자원 중 경쟁이 발생하는 부분을 critical section이라고 함\ncritical section에 대한 동기화(일종의 순차적 수행)를 구현하지 않으면 오류가 발생할 수 있음\n관련 : Synchronization, Monitor, Semaphore 등\n\n\n\n동기화 (Synchronization)\n공유 자원을 사용할 때 한 쓰레드가 사용 중이면 Lock을 걸어서 다른 쓰레드의 접근을 막는다\n메서드에 synchronized 키워드 입력\nsynchronized 블록 생성 @쓰레드, 메서드\nsynchronized(참조형 수식) &#123;&#125;\n\n\n\n\n\n\n예제 코드1 확인하기\n\n1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374package ch17;class Bank&#123;    private int money = 10000;    public synchronized void saveMoney(int save)&#123;        int m = getMoney();        try &#123;            Thread.sleep(3000);        &#125; catch (InterruptedException e) &#123;            e.printStackTrace();        &#125;        setMoney(m + save);    &#125;    public synchronized void minusMoney(int minus)&#123;        int m = getMoney();        try &#123;            Thread.sleep(200);        &#125; catch (InterruptedException e) &#123;            e.printStackTrace();        &#125;        setMoney(m-minus);    &#125;    public int getMoney() &#123;        return money;    &#125;    public void setMoney(int money) &#123;        this.money = money;    &#125;&#125;class Park extends Thread&#123;    @Override    public void run() &#123;        System.out.println(&quot;start save&quot;);        SyncMain.myBank.saveMoney(3000);        System.out.println(&quot;saveMoney : &quot; + SyncMain.myBank.getMoney());    &#125;&#125;class ParkWife extends Thread&#123;    @Override    public void run() &#123;        System.out.println(&quot;start minus&quot;);        SyncMain.myBank.minusMoney(1000);        System.out.println(&quot;minusMoney : &quot; + SyncMain.myBank.getMoney());    &#125;&#125;public class SyncMain &#123;    public static Bank myBank = new Bank();    public static void main(String[] args) &#123;        Park p = new Park();        p.start();        try &#123;            Thread.sleep(200);        &#125; catch (InterruptedException e) &#123;            e.printStackTrace();        &#125;        ParkWife pw = new ParkWife();        pw.start();    &#125;&#125;\n\n\n\n예제 코드 2 확인하기\n\n12345678910111213public void saveMoney(int save)&#123;    synchronized (this) &#123;        int m = getMoney();        try &#123;            Thread.sleep(3000);        &#125; catch (InterruptedException e) &#123;            e.printStackTrace();        &#125;        setMoney(m + save);    &#125;&#125;\n\n\n메서드우선순위\nThread.MIN_PRIORITY(=1) ~ Thread.MAX_PRIORITY(=10)\n디폴트 우선순위 : Thread.NORMAL_PRIORITY(=5)\n우선 순위가 높은 Thread가 CPU의 배분을 받을 확률이 높다\n우선순위 설정 및 호출이 가능하다\nsetPriority()/getPriority()\n\n\n\n\n예제 코드 확인하기\n\n1234567891011121314151617181920212223242526272829class PriorityThread extends Thread&#123;\t\tpublic void run()&#123;\t\t\tint sum = 0;\t\t\t\tThread t = Thread.currentThread();\t\tSystem.out.println( t + &quot;start&quot;);\t\t\t\tfor(int i =0; i&lt;=1000000; i++)&#123;\t\t\tsum += i;\t\t&#125;\t\tSystem.out.println( t.getPriority() + &quot;end&quot;);\t&#125;&#125;public class PriorityTest &#123;\tpublic static void main(String[] args) &#123;\t\tint i;\t\tfor(i=Thread.MIN_PRIORITY; i&lt;= Thread.MAX_PRIORITY; i++)&#123;\t\t\t\t\t\tPriorityThread pt = new PriorityThread();\t\t\tpt.setPriority(i);\t\t\tpt.start();\t\t&#125;\t&#125;&#125;\n\n\njoin\n동시에 두 개 이상의 Thread가 실행 될 때 다른 Thread의 결과를 참조 하여 실행해야 하는 경우 join() 함수를 사용\njoin() 함수를 호출한 Thread가 not-runnable 상태가 감\n다른 Thread의 수행이 끝나면 runnable 상태로 돌아옴\n\n\n예제 코드 확인하기\n\n12345678910111213141516171819202122232425262728293031323334353637383940414243444546package ch17;public class JoinTest extends Thread&#123;    int start;    int end;    int total;    public JoinTest(int start, int end) &#123;        this.start = start;        this.end = end;    &#125;    public void run() &#123;        int i;        for (i = start; i &lt;= end; i++)&#123;            total += i;        &#125;    &#125;    public static void main(String[] args) &#123;        JoinTest jt1 = new JoinTest(1, 50);        JoinTest jt2 = new JoinTest(51, 100);        jt1.start();        jt2.start();        // jt1, jt2가 끝날 때까지 main thread는 Not Runnable 상태가 된다.        // 무한 루프 등 hang을 해결하기 위해 Exception을 날려준다.        try &#123;            jt1.join();            jt2.join();        &#125; catch (InterruptedException e) &#123;            e.printStackTrace();        &#125;        // 아직 계산하고 있는 중이라서 값이 할당되지 않을 수 있다.        int lastTotal = jt1.total + jt2.total;        System.out.println(&quot;jt1.total = &quot; + jt1.total);        System.out.println(&quot;jt2.total = &quot; + jt2.total);        System.out.println(&quot;LastTotal = &quot; + lastTotal);    &#125;&#125;\n\n\ninterrupt\n다른 Thread에 예외를 발생시키는 interrupt를 보낸다.\njoin(), sleep(), wait()에 의해 Not Runnable 상태일 때, 호출하면 다시 runnable 상태가 된다.\n\n쓰레드 종료\n무한 반복의 경우 while(flag)의 flag를 false로 바꾸어 종료시킨다.\nwhile(true)가 아닌 다른 값을 입력해주기 위해 변수를 사용한다.\n\n\n예제 코드 확인하기\n\n123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263public class TerminateThread extends Thread&#123;\tprivate boolean flag = false;\tint i;\t\tpublic TerminateThread(String name)&#123;\t\tsuper(name);\t&#125;\t\tpublic void run()&#123;\t\t\t\t\t\twhile(!flag)&#123;\t\t\ttry &#123;\t\t\t\tsleep(100);\t\t\t&#125; catch (InterruptedException e) &#123;\t\t\t\t// TODO Auto-generated catch block\t\t\t\te.printStackTrace();\t\t\t&#125;\t\t&#125;\t\t\t\tSystem.out.println( getName() + &quot; end&quot; );\t\t\t&#125;\t\tpublic void setFlag(boolean flag)&#123;\t\tthis.flag = flag;\t&#125;\t\t\tpublic static void main(String[] args) throws IOException &#123;\t\tTerminateThread threadA = new TerminateThread(&quot;A&quot;);\t\tTerminateThread threadB = new TerminateThread(&quot;B&quot;);\t\tTerminateThread threadC = new TerminateThread(&quot;C&quot;);\t\t\t\tthreadA.start();\t\tthreadB.start();\t\tthreadC.start();\t\t\t\tint in;\t\twhile(true)&#123;\t\t\tin = System.in.read();\t\t\tif ( in == &#x27;A&#x27;)&#123;\t\t\t\tthreadA.setFlag(true);\t\t\t&#125;else if(in == &#x27;B&#x27;)&#123;\t\t\t\tthreadB.setFlag(true);\t\t\t&#125;else if( in == &#x27;C&#x27;)&#123;\t\t\t\tthreadC.setFlag(true);\t\t\t&#125;else if( in == &#x27;M&#x27;)&#123;\t\t\t\tthreadA.setFlag(true);\t\t\t\tthreadB.setFlag(true);\t\t\t\tthreadC.setFlag(true);\t\t\t\tbreak;\t\t\t&#125;else&#123;\t\t\t\tSystem.out.println(&quot;type again&quot;);\t\t\t&#125;\t\t&#125;\t\t\t\tSystem.out.println(&quot;main end&quot;);\t\t\t&#125;&#125;\n\n\n구현extends Thread\nThread가 수행이되면 run 메서드가 실행된다.\n기본적으로 메인 쓰레드가 수행이된다.\n예제에서 쓰레드 2개를 추가하여 테스트 (메인 포함 총 3개 쓰레드)\n\n\n예제 코드 확인하기\n\n123456789101112131415161718192021222324package ch17;class MyThread extends Thread &#123;    public void run() &#123;        int i;        for (i = 1; i&lt;=200; i++)&#123;            System.out.print(i + &quot;\\t&quot;);        &#125;    &#125;&#125;public class ThreadTest &#123;    public static void main(String[] args) &#123;        // 현재 main 내의 thread확인        // [호출한 함수, priority, threadGroup]        System.out.println(Thread.currentThread() + &quot;start&quot;);        MyThread th1 = new MyThread();        MyThread th2 = new MyThread();        th1.start();        th2.start();        System.out.println(Thread.currentThread() + &quot;end&quot;);    &#125;&#125;\n\n\nimplements Runnable\nrun 메서드를 override 해주어어야 한다.\nMain에서 Thread를 생성할 때 runnable 객체를 생성하여 생성자의 parameter로 넣어준다. \n\n\n예제 코드 확인하기\n\n1234567891011121314151617181920212223242526272829package ch17;class MyThread implements Runnable &#123;    @Override    public void run() &#123;        int i;        for (i = 0; i &lt;= 200; i++) &#123;            System.out.print(i + &quot;\\t&quot;);        &#125;    &#125;&#125;public class ThreadTest &#123;    public static void main(String[] args) &#123;        System.out.println(Thread.currentThread() + &quot;start&quot;);        // runnable 객체 생성        MyThread runnable = new MyThread();        // runnable기반으로 쓰레드가 돌아간다.        Thread th1 = new Thread(runnable);        Thread th2 = new Thread(runnable);        th1.start();        th2.start();        System.out.println(Thread.currentThread() + &quot;end&quot;);    &#125;&#125;\n\n\n\n\n    \n    \n","dateCreated":"2021-09-06T21:36:02+09:00","dateModified":"2021-09-09T23:06:32+09:00","datePublished":"2021-09-06T21:36:02+09:00","description":"","headline":"쓰레드 (Thread)","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"http://bedongryeol.github.io/09/06/Thread/"},"publisher":{"@type":"Organization","name":"Dongryeol Jeong","sameAs":["https://github.com/"],"image":"profile.jpg","logo":{"@type":"ImageObject","url":"profile.jpg"}},"url":"http://bedongryeol.github.io/09/06/Thread/","keywords":"Thread, 쓰레드"}</script>
    <meta property="og:type" content="blog">
<meta property="og:title" content="쓰레드 (Thread)">
<meta property="og:url" content="http://bedongryeol.github.io/09/06/Thread/index.html">
<meta property="og:site_name" content="Fintech - Backend Developer">
<meta property="og:locale" content="ko_KR">
<meta property="article:published_time" content="2021-09-06T12:36:02.000Z">
<meta property="article:modified_time" content="2021-09-09T14:06:32.672Z">
<meta property="article:author" content="Dongryeol Jeong">
<meta property="article:tag" content="Thread">
<meta property="article:tag" content="쓰레드">
<meta name="twitter:card" content="summary">
    
    
        
    
    
        <meta property="og:image" content="http://bedongryeol.github.io/assets/images/profile.jpg"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-sqim1sfvlrl9cczsjyssnk4uipcaudaclj78xhhuhwr57rvgzccjmhkhcg1e.min.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="5">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            Fintech - Backend Developer
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/profile.jpg" alt="저자 이미지"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="5">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="저자에 대해 더 알아보기"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/profile.jpg" alt="저자 이미지"/>
                </a>
                <h4 class="sidebar-profile-name">Dongryeol Jeong</h4>
                
                    <h5 class="sidebar-profile-bio"><p>author.bio</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="카테고리"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">카테고리</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="태그"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">태그</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="아카이브"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">아카이브</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link open-algolia-search"
                            href="#search"
                            
                            rel="noopener"
                            title="검색"
                        >
                        <i class="sidebar-button-icon fa fa-search" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">검색</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="5"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            쓰레드 (Thread)
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2021-09-06T21:36:02+09:00">
	
		    2021/09/06
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/categories/Basic/">Basic</a>, <a class="category-link" href="/categories/Basic/Java/">Java</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <h1 id=""><a href="#" class="headerlink" title=""></a></h1><span id="more"></span>
<!-- excerpt -->
<h1 id="쓰레드"><a href="#쓰레드" class="headerlink" title="쓰레드"></a>쓰레드</h1><h2 id="개념"><a href="#개념" class="headerlink" title="개념"></a>개념</h2><h3 id="프로세스-Process"><a href="#프로세스-Process" class="headerlink" title="프로세스 (Process)"></a>프로세스 (Process)</h3><ul>
<li>실행 중인 프로그램이 실행되면 OS로부터 메모리를 할당받아 프로세스 상태가 된다.</li>
<li>프로그램이 메모리에 올라간 상태</li>
<li>프로세스는 하나 이상의 쓰레드를 가지게 된다.</li>
</ul>
<h3 id="쓰레드-Thread"><a href="#쓰레드-Thread" class="headerlink" title="쓰레드 (Thread)"></a>쓰레드 (Thread)</h3><ul>
<li>프로세스가 메모리를 점유하고 CPU에서 수행이 된다.</li>
<li>쓰레드 : CPU에서 프로세스가 실행되는 단위</li>
<li>스케줄러 : 쓰레드의 배분</li>
<li>웹서버에 멀티쓰레드가 구현되어 있기 때문에 웹프로그래밍에서는 멀티쓰레드를 구현할 일이 없다.</li>
<li>쓰레드는 자신만의 작업 공간인 context(변수 정보 등)를 가지고 있다.</li>
</ul>
<h4 id="쓰레드-상태-Thread-Status"><a href="#쓰레드-상태-Thread-Status" class="headerlink" title="쓰레드 상태 (Thread Status)"></a>쓰레드 상태 (Thread Status)</h4><ul>
<li><p>Runnable  </p>
<ul>
<li>쓰레드가 start 되면 쓰레드 풀에서 대기하게 된다.</li>
<li>언제든지 CPU가 배분되면 실행될 수 있는 상태</li>
</ul>
</li>
<li><p>Not Runnable</p>
<ul>
<li>CPU를 절대 점유할 수 없는 상태</li>
<li>자바에서 메서드를 통해 Not Runnable로 만들 수 있다.<ol>
<li><strong>sleep(millisecond)</strong><ul>
<li>millisecond후에 Runnable로 변경 </li>
</ul>
</li>
<li><strong>wait()</strong><ul>
<li>자원이 한정되어 있을 때, 유효한 thread가 생길 때 까지 대기상태</li>
<li>유효한 상태가 되면 <strong>notify</strong>, <strong>notifyAll</strong>을 통해 쓰레드를 불러온다.</li>
</ul>
</li>
<li><strong>join()</strong><ul>
<li>한 개의 쓰레드가 다른 쓰레드를 참조할 때 join()을 하면 참조하는 쓰레드가 끝날 때 까지 자기 자신을 Not Runnable 상태로 만든다.</li>
</ul>
</li>
</ol>
</li>
</ul>
</li>
<li><p>Dead</p>
<ul>
<li>쓰레드가 다 수행된 상태, 종료된 상태</li>
</ul>
</li>
</ul>
<h4 id="wait-notify"><a href="#wait-notify" class="headerlink" title="wait() / notify()"></a>wait() / notify()</h4><ul>
<li>리소스가 유효하지 않은 경우 유효할 때 까지 Thread는 wait상태가 된다.</li>
<li>유효한 리소스가 생기면 <code>notify()</code>/<code>notifyAll()</code>를 통해 Thread가 호출된다.<ul>
<li>notify() : 무작위 쓰레드 호출</li>
<li>notifyAll() : wait상태의 Thread 모두 호출<ul>
<li>유효한 리소스만큼 호출되며, 자원을 갖지 못하면 다시 wait상태가 된다.</li>
</ul>
</li>
</ul>
</li>
<li>예제<ul>
<li>도서관(공유 자원)에서 책을 빌리려하는 학생(Thread)이 있다.</li>
<li>책(자원)은 한정되어 있고, 학생(쓰레드)들이 책(자원)을 빌리려 할 때 책이 없으면 wait()</li>
<li>책(자원)이 반납되면 다른 학생(쓰레드)가 빌림</li>
</ul>
</li>
</ul>
<details>
<summary>notify 예제 코드 확인하기</summary>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ch17;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.InputMismatchException;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Library</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;String&gt; shelf = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Library</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        shelf.add(<span class="string">&quot;태백산맥1&quot;</span>);</span><br><span class="line">        shelf.add(<span class="string">&quot;태백산맥2&quot;</span>);</span><br><span class="line">        shelf.add(<span class="string">&quot;태백산맥3&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> String <span class="title">lendBook</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">        Thread t = Thread.currentThread();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (shelf.size() == <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(t.getName() + <span class="string">&quot; : waiting start&quot;</span>);</span><br><span class="line">            wait();</span><br><span class="line">            System.out.println(t.getName() + <span class="string">&quot; : waiting end&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (shelf.size() &gt; <span class="number">0</span> )&#123;</span><br><span class="line">            String book = shelf.remove(<span class="number">0</span>);</span><br><span class="line">            System.out.println(t.getName() + <span class="string">&quot; : &quot;</span> + book + <span class="string">&quot; lend&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> book;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">returnBook</span><span class="params">(String book)</span> </span>&#123;</span><br><span class="line">        Thread t = Thread.currentThread();</span><br><span class="line">        shelf.add(book);</span><br><span class="line">        System.out.println(t.getName() + <span class="string">&quot; : &quot;</span> + book + <span class="string">&quot; return&quot;</span>);</span><br><span class="line">        notify();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            String title = LibraryMain.library.lendBook();</span><br><span class="line">            <span class="keyword">if</span> (title == <span class="keyword">null</span>) &#123;</span><br><span class="line">                System.out.println(getName() + <span class="string">&quot; : 빌리지 못했음&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sleep(<span class="number">5000</span>);</span><br><span class="line">            LibraryMain.library.returnBook(title);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LibraryMain</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Library library = <span class="keyword">new</span> Library();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Student std1 = <span class="keyword">new</span> Student(<span class="string">&quot;std1&quot;</span>);</span><br><span class="line">        Student std2 = <span class="keyword">new</span> Student(<span class="string">&quot;std2&quot;</span>);</span><br><span class="line">        Student std3 = <span class="keyword">new</span> Student(<span class="string">&quot;std3&quot;</span>);</span><br><span class="line">        Student std4 = <span class="keyword">new</span> Student(<span class="string">&quot;std4&quot;</span>);</span><br><span class="line">        Student std5 = <span class="keyword">new</span> Student(<span class="string">&quot;std5&quot;</span>);</span><br><span class="line">        Student std6 = <span class="keyword">new</span> Student(<span class="string">&quot;std6&quot;</span>);</span><br><span class="line"></span><br><span class="line">        std1.start();</span><br><span class="line">        std2.start();</span><br><span class="line">        std3.start();</span><br><span class="line">        std4.start();</span><br><span class="line">        std5.start();</span><br><span class="line">        std6.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<details>
<summary>notifyAll() 예제코드 확인하기</summary>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ch17;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.InputMismatchException;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Library</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> ArrayList&lt;String&gt; shelf = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Library</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        shelf.add(<span class="string">&quot;태백산맥1&quot;</span>);</span><br><span class="line">        shelf.add(<span class="string">&quot;태백산맥2&quot;</span>);</span><br><span class="line">        shelf.add(<span class="string">&quot;태백산맥3&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> String <span class="title">lendBook</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException </span>&#123;</span><br><span class="line"></span><br><span class="line">        Thread t = Thread.currentThread();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (shelf.size() == <span class="number">0</span>) &#123;</span><br><span class="line">            System.out.println(t.getName() + <span class="string">&quot; : waiting start&quot;</span>);</span><br><span class="line">            wait();</span><br><span class="line">            System.out.println(t.getName() + <span class="string">&quot; : waiting end&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (shelf.size() &gt; <span class="number">0</span> )&#123;</span><br><span class="line">            String book = shelf.remove(<span class="number">0</span>);</span><br><span class="line">            System.out.println(t.getName() + <span class="string">&quot; : &quot;</span> + book + <span class="string">&quot; lend&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> book;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">returnBook</span><span class="params">(String book)</span> </span>&#123;</span><br><span class="line">        Thread t = Thread.currentThread();</span><br><span class="line">        shelf.add(book);</span><br><span class="line">        System.out.println(t.getName() + <span class="string">&quot; : &quot;</span> + book + <span class="string">&quot; return&quot;</span>);</span><br><span class="line">        notifyAll();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Student</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            String title = LibraryMain.library.lendBook();</span><br><span class="line">            <span class="keyword">if</span> (title == <span class="keyword">null</span>) &#123;</span><br><span class="line">                System.out.println(getName() + <span class="string">&quot; : 빌리지 못했음&quot;</span>);</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sleep(<span class="number">5000</span>);</span><br><span class="line">            LibraryMain.library.returnBook(title);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LibraryMain</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Library library = <span class="keyword">new</span> Library();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        Student std1 = <span class="keyword">new</span> Student(<span class="string">&quot;std1&quot;</span>);</span><br><span class="line">        Student std2 = <span class="keyword">new</span> Student(<span class="string">&quot;std2&quot;</span>);</span><br><span class="line">        Student std3 = <span class="keyword">new</span> Student(<span class="string">&quot;std3&quot;</span>);</span><br><span class="line">        Student std4 = <span class="keyword">new</span> Student(<span class="string">&quot;std4&quot;</span>);</span><br><span class="line">        Student std5 = <span class="keyword">new</span> Student(<span class="string">&quot;std5&quot;</span>);</span><br><span class="line">        Student std6 = <span class="keyword">new</span> Student(<span class="string">&quot;std6&quot;</span>);</span><br><span class="line"></span><br><span class="line">        std1.start();</span><br><span class="line">        std2.start();</span><br><span class="line">        std3.start();</span><br><span class="line">        std4.start();</span><br><span class="line">        std5.start();</span><br><span class="line">        std6.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<h3 id="멀티-쓰레딩-Multi-Threading"><a href="#멀티-쓰레딩-Multi-Threading" class="headerlink" title="멀티 쓰레딩 (Multi-Threading)"></a>멀티 쓰레딩 (Multi-Threading)</h3><ul>
<li>여러 thread가 동시에 수행되는 프로그래밍, 여러 작업이 동시에 실행되는 효과</li>
<li>thread는 각각 자신만의 작업 공간을 가짐 (context)</li>
<li>각 thread 사이에서 공유하는 자원이 있을 수 있음 (자바에서는 static instance)</li>
<li>여러 thread가 자원을 공유하여 작업이 수행되는 경우 서로 자원을 차지하려는 <code>race condition</code>이 발생할 수 있음</li>
<li>이렇게 여러 thread가 공유하는 자원 중 경쟁이 발생하는 부분을 <code>critical section</code>이라고 함</li>
<li>critical section에 대한 <code>동기화(일종의 순차적 수행)</code>를 구현하지 않으면 오류가 발생할 수 있음<ul>
<li>관련 : Synchronization, Monitor, Semaphore 등</li>
</ul>
</li>
</ul>
<h3 id="동기화-Synchronization"><a href="#동기화-Synchronization" class="headerlink" title="동기화 (Synchronization)"></a>동기화 (Synchronization)</h3><ul>
<li>공유 자원을 사용할 때 한 쓰레드가 사용 중이면 Lock을 걸어서 다른 쓰레드의 접근을 막는다<ol>
<li>메서드에 <code>synchronized</code> 키워드 입력</li>
<li>synchronized 블록 생성 @쓰레드, 메서드<ul>
<li><code>synchronized(참조형 수식) &#123;&#125;</code></li>
</ul>
</li>
</ol>
</li>
</ul>
<details>
<summary>예제 코드1 확인하기</summary>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ch17;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bank</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> money = <span class="number">10000</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">saveMoney</span><span class="params">(<span class="keyword">int</span> save)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = getMoney();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        setMoney(m + save);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">minusMoney</span><span class="params">(<span class="keyword">int</span> minus)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> m = getMoney();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">200</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        setMoney(m-minus);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMoney</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setMoney</span><span class="params">(<span class="keyword">int</span> money)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.money = money;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Park</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;start save&quot;</span>);</span><br><span class="line">        SyncMain.myBank.saveMoney(<span class="number">3000</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;saveMoney : &quot;</span> + SyncMain.myBank.getMoney());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ParkWife</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;start minus&quot;</span>);</span><br><span class="line">        SyncMain.myBank.minusMoney(<span class="number">1000</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;minusMoney : &quot;</span> + SyncMain.myBank.getMoney());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SyncMain</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Bank myBank = <span class="keyword">new</span> Bank();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Park p = <span class="keyword">new</span> Park();</span><br><span class="line">        p.start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">200</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ParkWife pw = <span class="keyword">new</span> ParkWife();</span><br><span class="line">        pw.start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<details>
<summary>예제 코드 2 확인하기</summary>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">saveMoney</span><span class="params">(<span class="keyword">int</span> save)</span></span>&#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">        <span class="keyword">int</span> m = getMoney();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        setMoney(m + save);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<h2 id="메서드"><a href="#메서드" class="headerlink" title="메서드"></a>메서드</h2><h3 id="우선순위"><a href="#우선순위" class="headerlink" title="우선순위"></a>우선순위</h3><ul>
<li><code>Thread.MIN_PRIORITY(=1) ~ Thread.MAX_PRIORITY(=10)</code></li>
<li>디폴트 우선순위 : Thread.NORMAL_PRIORITY(=5)</li>
<li>우선 순위가 높은 Thread가 CPU의 배분을 받을 <strong>확률이 높다</strong></li>
<li>우선순위 설정 및 호출이 가능하다<ul>
<li><code>setPriority()/getPriority()</code></li>
</ul>
</li>
</ul>
<details>
<summary>예제 코드 확인하기</summary>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PriorityThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">		</span><br><span class="line">		Thread t = Thread.currentThread();</span><br><span class="line">		System.out.println( t + <span class="string">&quot;start&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span>; i&lt;=<span class="number">1000000</span>; i++)&#123;</span><br><span class="line">			sum += i;</span><br><span class="line">		&#125;</span><br><span class="line">		System.out.println( t.getPriority() + <span class="string">&quot;end&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PriorityTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">int</span> i;</span><br><span class="line">		<span class="keyword">for</span>(i=Thread.MIN_PRIORITY; i&lt;= Thread.MAX_PRIORITY; i++)&#123;</span><br><span class="line">			</span><br><span class="line">			PriorityThread pt = <span class="keyword">new</span> PriorityThread();</span><br><span class="line">			pt.setPriority(i);</span><br><span class="line">			pt.start();</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<h3 id="join"><a href="#join" class="headerlink" title="join"></a>join</h3><ul>
<li>동시에 두 개 이상의 Thread가 실행 될 때 다른 Thread의 결과를 참조 하여 실행해야 하는 경우 join() 함수를 사용</li>
<li>join() 함수를 호출한 Thread가 not-runnable 상태가 감</li>
<li>다른 Thread의 수행이 끝나면 runnable 상태로 돌아옴</li>
</ul>
<details>
<summary>예제 코드 확인하기</summary>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ch17;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JoinTest</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> start;</span><br><span class="line">    <span class="keyword">int</span> end;</span><br><span class="line">    <span class="keyword">int</span> total;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">JoinTest</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.start = start;</span><br><span class="line">        <span class="keyword">this</span>.end = end;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span> (i = start; i &lt;= end; i++)&#123;</span><br><span class="line">            total += i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        JoinTest jt1 = <span class="keyword">new</span> JoinTest(<span class="number">1</span>, <span class="number">50</span>);</span><br><span class="line">        JoinTest jt2 = <span class="keyword">new</span> JoinTest(<span class="number">51</span>, <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">        jt1.start();</span><br><span class="line">        jt2.start();</span><br><span class="line">        <span class="comment">// jt1, jt2가 끝날 때까지 main thread는 Not Runnable 상태가 된다.</span></span><br><span class="line">        <span class="comment">// 무한 루프 등 hang을 해결하기 위해 Exception을 날려준다.</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            jt1.join();</span><br><span class="line">            jt2.join();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 아직 계산하고 있는 중이라서 값이 할당되지 않을 수 있다.</span></span><br><span class="line">        <span class="keyword">int</span> lastTotal = jt1.total + jt2.total;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;jt1.total = &quot;</span> + jt1.total);</span><br><span class="line">        System.out.println(<span class="string">&quot;jt2.total = &quot;</span> + jt2.total);</span><br><span class="line">        System.out.println(<span class="string">&quot;LastTotal = &quot;</span> + lastTotal);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<h3 id="interrupt"><a href="#interrupt" class="headerlink" title="interrupt"></a>interrupt</h3><ul>
<li>다른 Thread에 예외를 발생시키는 interrupt를 보낸다.</li>
<li>join(), sleep(), wait()에 의해 Not Runnable 상태일 때, 호출하면 다시 runnable 상태가 된다.</li>
</ul>
<h3 id="쓰레드-종료"><a href="#쓰레드-종료" class="headerlink" title="쓰레드 종료"></a>쓰레드 종료</h3><ul>
<li>무한 반복의 경우 while(flag)의 flag를 false로 바꾸어 종료시킨다.</li>
<li>while(true)가 아닌 다른 값을 입력해주기 위해 변수를 사용한다.</li>
</ul>
<details>
<summary>예제 코드 확인하기</summary>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TerminateThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line">	<span class="keyword">int</span> i;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="title">TerminateThread</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">		<span class="keyword">super</span>(name);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>&#123;</span><br><span class="line">		</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">while</span>(!flag)&#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				sleep(<span class="number">100</span>);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">				<span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">				e.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println( getName() + <span class="string">&quot; end&quot;</span> );</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFlag</span><span class="params">(<span class="keyword">boolean</span> flag)</span></span>&#123;</span><br><span class="line">		<span class="keyword">this</span>.flag = flag;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line"></span><br><span class="line">		TerminateThread threadA = <span class="keyword">new</span> TerminateThread(<span class="string">&quot;A&quot;</span>);</span><br><span class="line">		TerminateThread threadB = <span class="keyword">new</span> TerminateThread(<span class="string">&quot;B&quot;</span>);</span><br><span class="line">		TerminateThread threadC = <span class="keyword">new</span> TerminateThread(<span class="string">&quot;C&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		threadA.start();</span><br><span class="line">		threadB.start();</span><br><span class="line">		threadC.start();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">int</span> in;</span><br><span class="line">		<span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">			in = System.in.read();</span><br><span class="line">			<span class="keyword">if</span> ( in == <span class="string">&#x27;A&#x27;</span>)&#123;</span><br><span class="line">				threadA.setFlag(<span class="keyword">true</span>);</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>(in == <span class="string">&#x27;B&#x27;</span>)&#123;</span><br><span class="line">				threadB.setFlag(<span class="keyword">true</span>);</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>( in == <span class="string">&#x27;C&#x27;</span>)&#123;</span><br><span class="line">				threadC.setFlag(<span class="keyword">true</span>);</span><br><span class="line">			&#125;<span class="keyword">else</span> <span class="keyword">if</span>( in == <span class="string">&#x27;M&#x27;</span>)&#123;</span><br><span class="line">				threadA.setFlag(<span class="keyword">true</span>);</span><br><span class="line">				threadB.setFlag(<span class="keyword">true</span>);</span><br><span class="line">				threadC.setFlag(<span class="keyword">true</span>);</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;type again&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		System.out.println(<span class="string">&quot;main end&quot;</span>);</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<h2 id="구현"><a href="#구현" class="headerlink" title="구현"></a>구현</h2><h3 id="extends-Thread"><a href="#extends-Thread" class="headerlink" title="extends Thread"></a>extends Thread</h3><ul>
<li>Thread가 수행이되면 run 메서드가 실행된다.</li>
<li>기본적으로 메인 쓰레드가 수행이된다.</li>
<li>예제에서 쓰레드 2개를 추가하여 테스트 (메인 포함 총 3개 쓰레드)</li>
</ul>
<details>
<summary>예제 코드 확인하기</summary>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ch17;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">1</span>; i&lt;=<span class="number">200</span>; i++)&#123;</span><br><span class="line">            System.out.print(i + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 현재 main 내의 thread확인</span></span><br><span class="line">        <span class="comment">// [호출한 함수, priority, threadGroup]</span></span><br><span class="line">        System.out.println(Thread.currentThread() + <span class="string">&quot;start&quot;</span>);</span><br><span class="line">        MyThread th1 = <span class="keyword">new</span> MyThread();</span><br><span class="line">        MyThread th2 = <span class="keyword">new</span> MyThread();</span><br><span class="line"></span><br><span class="line">        th1.start();</span><br><span class="line">        th2.start();</span><br><span class="line">        System.out.println(Thread.currentThread() + <span class="string">&quot;end&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>

<h3 id="implements-Runnable"><a href="#implements-Runnable" class="headerlink" title="implements Runnable"></a>implements Runnable</h3><ul>
<li><code>run 메서드</code>를 override 해주어어야 한다.</li>
<li>Main에서 Thread를 생성할 때 <code>runnable 객체</code>를 생성하여 <code>생성자의 parameter</code>로 넣어준다. </li>
</ul>
<details>
<summary>예제 코드 확인하기</summary>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ch17;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt;= <span class="number">200</span>; i++) &#123;</span><br><span class="line">            System.out.print(i + <span class="string">&quot;\t&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(Thread.currentThread() + <span class="string">&quot;start&quot;</span>);</span><br><span class="line">        <span class="comment">// runnable 객체 생성</span></span><br><span class="line">        MyThread runnable = <span class="keyword">new</span> MyThread();</span><br><span class="line">        <span class="comment">// runnable기반으로 쓰레드가 돌아간다.</span></span><br><span class="line">        Thread th1 = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line">        Thread th2 = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line"></span><br><span class="line">        th1.start();</span><br><span class="line">        th2.start();</span><br><span class="line"></span><br><span class="line">        System.out.println(Thread.currentThread() + <span class="string">&quot;end&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</details>



    
    

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">태그</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/Thread/" rel="tag">Thread</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/%EC%93%B0%EB%A0%88%EB%93%9C/" rel="tag">쓰레드</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/09/06/Serial/"
                    data-tooltip="직렬화 (Serialization)"
                    aria-label="이전: 직렬화 (Serialization)"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/09/02/IOStream/"
                    data-tooltip="IOStream"
                    aria-label="다음: IOStream"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://bedongryeol.github.io/09/06/Thread/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=http://bedongryeol.github.io/09/06/Thread/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=http://bedongryeol.github.io/09/06/Thread/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2021 Dongryeol Jeong. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="5">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/09/06/Serial/"
                    data-tooltip="직렬화 (Serialization)"
                    aria-label="이전: 직렬화 (Serialization)"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/09/02/IOStream/"
                    data-tooltip="IOStream"
                    aria-label="다음: IOStream"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=http://bedongryeol.github.io/09/06/Thread/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=http://bedongryeol.github.io/09/06/Thread/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=http://bedongryeol.github.io/09/06/Thread/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="5">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=http://bedongryeol.github.io/09/06/Thread/"
                        aria-label="Facebook에 공유하기"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=http://bedongryeol.github.io/09/06/Thread/"
                        aria-label="Twitter에 공유하기"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=http://bedongryeol.github.io/09/06/Thread/"
                        aria-label="Google+에 공유하기"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Google+에 공유하기</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/profile.jpg" alt="저자 이미지"/>
        
            <h4 id="about-card-name">Dongryeol Jeong</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Seoul, Korea
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/green.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-ykixqvf3qqvhboif10iqwrzvzbwvwkviecn1aeoflkjcszizeoypxail33s5.min.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
